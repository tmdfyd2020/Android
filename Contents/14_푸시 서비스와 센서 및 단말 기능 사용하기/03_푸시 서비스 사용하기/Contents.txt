- 푸시 서비스 사용하기 -

○ 단말로 메시지를 보내는 기술적인 방법 세 가지
  1) 단순 SMS를 이용한 알림
     간단하지만 비용이 발생할 수 있다.
  2) 앱에서 서버에 연결을 만들어 놓은 상태에서 알림
     앱에서 서버와의 연결을 만들어 놓고 폴링하는 과정이 필요하며 백그라운드 서비스를 이용해 연결을 유지해야 하므로 간단하지만은 않다.
  3) 구글의 푸시 서비스(FCM)를 사용하여 알림
     구글의 클라우드 서버를 사용해 메시지 전송 방식을 최적화한 서비스이다.
     앱에서 서버로 직접 연결할 필요가 없으며 단말의 내부 연결을 공유하여 메시지를 수신하는 방식이다.
     
○ 단말을 등록하는 과정부터 해당 단말에서 메시지를 수신하는 과정
  1) 단말은 자신을 클라우드 서버에 등록하고 서버로부터 등록 id를 받는다.
  2) 등록 id는 메시지 전송을 담당할 애플리케이션 서버로 보낸 후 메시지를 기다린다.
  3) 보내려는 메시지는 애플리케이션 서버에서 클라우드에 접속한 후 전송한다.
  4) 클라우드 서버로 전송된 메시지는 대상 단말에 보내진다.
  
○ 애플리케이션 서버 : 단말에 푸시 메시지를 보내기 위해 직접 만든 서버 모듈 (메시지 입력창과 전송 버튼이 하나 있는 PC용 프로그램을 떠올려보자)
  1) 애플리케이션 서버에 저장된 단말의 등록 id
     단말이 클라우드 서버에 자신을 등록할 때 받게 되는 등록 id를 애플리케이션 서버에 알려줘야 한다.
     등록 id는 등록한 단말별로 고유한 값이 되므로 애플리케이션 서버에 저장되며, 클라우드 서버가 메시지를 보내줘야 할 단말을 구분하는데 사용된다.
  2) 애플리케이션 서버에서 클라우드 서버로 접속하기 위한 인증 정보
     메시지를 전송할 때도 아무나 접속하여 단말로 메시지를 보내면 안 되므로 애플리케이션 서버가 API 키라는 고유한 값을 포함하여 메시지를 보내도록 한다.
     이 인증 정보는 어떤 사람이 어떤 서비스에 사용하는지 구별하기 위한 것이므로 개발자가 만드는 애플리케이션을 FCM 사이트에 등록해야 사용할 수 있다.
